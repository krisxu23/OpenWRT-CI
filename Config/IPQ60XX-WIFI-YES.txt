# --- 目标与设备定义 ---
CONFIG_TARGET_qualcommax=y
CONFIG_TARGET_qualcommax_ipq60xx=y
CONFIG_TARGET_MULTI_PROFILE=y
CONFIG_TARGET_PER_DEVICE_ROOTFS=y
CONFIG_TARGET_DEVICE_qualcommax_ipq60xx_DEVICE_jdcloud_re-ss-01=y
CONFIG_TARGET_DEVICE_PACKAGES_qualcommax_ipq60xx_DEVICE_jdcloud_re-ss-01="ipq-wifi-jdcloud_re-ss-01"

# --- 1GB 内存专项优化 ---
CONFIG_IPQ_MEM_PROFILE_1024=y
CONFIG_KERNEL_IPQ_MEM_PROFILE=1024
CONFIG_ATH11K_MEM_PROFILE_1024M=y
CONFIG_KERNEL_TRANSPARENT_HUGEPAGE=y
CONFIG_KERNEL_TRANSPARENT_HUGEPAGE_MADVISE=y
CONFIG_KERNEL_SKB_RECYCLER=y
CONFIG_KERNEL_SKB_RECYCLER_MULTI_CPU=y
CONFIG_KERNEL_PREEMPT_NONE=y
CONFIG_KERNEL_HIGH_RES_TIMERS=y

# --- 编译优化（架构相关） ---
CONFIG_TARGET_OPTIONS=y
CONFIG_TARGET_OPTIMIZATION="-O2 -pipe -march=armv8-a+crypto+crc -mcpu=cortex-a53+crypto+crc -mtune=cortex-a53"

# --- NSS 硬件加速（IPQ60xx 专用） ---
CONFIG_NSS_FIRMWARE_VERSION_12_5=y
CONFIG_NSS_DRV_IGS_ENABLE=y
CONFIG_NSS_DRV_L2TP_ENABLE=y
CONFIG_NSS_DRV_SHAPER_ENABLE=y
CONFIG_PACKAGE_kmod-qca-nss-dp=y
CONFIG_PACKAGE_kmod-qca-ssdk=y
CONFIG_PACKAGE_kmod-qca-ssdk-hnat=y
CONFIG_PACKAGE_kmod-qca-nss-drv=y
CONFIG_PACKAGE_kmod-qca-nss-drv-igs=y
CONFIG_PACKAGE_kmod-qca-nss-drv-l2tpv2=y
CONFIG_PACKAGE_kmod-qca-nss-drv-pppoe=y
CONFIG_PACKAGE_kmod-qca-nss-drv-qdisc=y
CONFIG_PACKAGE_kmod-qca-nss-drv-bridge-mgr=y
CONFIG_PACKAGE_kmod-qca-nss-ecm=y
CONFIG_PACKAGE_kmod-qca-mcs=y
CONFIG_PACKAGE_sqm-scripts-nss=y
CONFIG_PACKAGE_nss-utils=y
CONFIG_PACKAGE_qca-nss-clients=y
CONFIG_PACKAGE_qca-ssdk-shell=y
CONFIG_PACKAGE_kmod-qca-nss-crypto=y
CONFIG_PACKAGE_nss-firmware-ipq60xx=y

# --- 无线驱动与固件（IPQ60xx 专用） ---
CONFIG_PACKAGE_ath11k-firmware-ipq60xx=y
CONFIG_PACKAGE_ath11k-firmware-ipq6018=y
CONFIG_PACKAGE_kmod-ath11k=y
CONFIG_PACKAGE_kmod-ath11k-pci=y
CONFIG_PACKAGE_kmod-ath11k-ahb=y

# --- 温度监控（IPQ60xx 硬件） ---
CONFIG_PACKAGE_kmod-thermal=y
CONFIG_PACKAGE_kmod-thermal-tsens=y
CONFIG_PACKAGE_kmod-qca-thermal=y
CONFIG_PACKAGE_lm-sensors=y
CONFIG_PACKAGE_sensors=y
CONFIG_PACKAGE_sensord=y

# --- USB 控制器（IPQ6018 专用） ---
CONFIG_PACKAGE_kmod-usb-dwc3=y
CONFIG_PACKAGE_kmod-usb-dwc3-qcom=y
CONFIG_PACKAGE_kmod-usb-xhci=y
CONFIG_PACKAGE_kmod-usb3=y
CONFIG_PACKAGE_kmod-usb-phy-qcom-dwc3=y
CONFIG_PACKAGE_kmod-usb-roles=y
CONFIG_PACKAGE_kmod-usb-phy-nop=y

# --- 网络优化（IPQ60xx 内核参数） ---
CONFIG_DEFAULT_TCP_CONG="bbr"
CONFIG_KERNEL_TCP_CONG_BBR=y
CONFIG_KERNEL_TCP_MD5SIG=y
CONFIG_KERNEL_IPV6_SEG6_LWTUNNEL=y
CONFIG_KERNEL_NET_IP_TUNE=y
CONFIG_KERNEL_NET_SCH_FQ=y
CONFIG_KERNEL_NET_SCH_FQ_CODEL=y
CONFIG_KERNEL_NET_IPV4_TCP_MEM="1536 2048 3072"
CONFIG_KERNEL_NET_IPV4_UDPLITE_MEM="512 1024 1536"

# --- 精简选项 ---
CONFIG_TARGET_ROOTFS_INITRAMFS=n

# --- 硬件文件系统（NAND/eMMC） ---
CONFIG_PACKAGE_kmod-mtd=y
CONFIG_PACKAGE_kmod-nand=y
CONFIG_PACKAGE_kmod-nand-raw=y
CONFIG_PACKAGE_kmod-spi-nor=y
CONFIG_PACKAGE_kmod-fs-ubifs=y
